run-shell 'tmux set -g default-shell "$(which zsh)"'
##### 基础体验 #############################################################
set -g default-terminal "tmux-256color"
set -g mouse on                     # 开启鼠标操作
set -g history-limit 200000         # 增大滚动缓冲区
setw -g mode-keys vi                # 复制/选择模式使用 vi 键位
set -g focus-events on              # 感知终端焦点变化
set -g renumber-windows on          # 关闭窗口后自动重排编号
set -g base-index 1                 # 窗口从 1 开始编号
setw -g pane-base-index 1           # 窗格从 1 开始编号
set -g set-clipboard on             # 尝试与系统剪贴板同步（tmux>=3.2）

##### 分屏与导航 ##########################################################
unbind '"'                          # 去掉默认竖分屏绑定
unbind %                            # 去掉默认横分屏绑定
bind | split-window -h -c "#{pane_current_path}"  # Ctrl-b + | 横分屏，继承路径
bind - split-window -v -c "#{pane_current_path}"  # Ctrl-b + - 竖分屏，继承路径

bind -r h select-pane -L            # Ctrl-b + h 左移
bind -r j select-pane -D            # Ctrl-b + j 下移
bind -r k select-pane -U            # Ctrl-b + k 上移
bind -r l select-pane -R            # Ctrl-b + l 右移

bind -r H resize-pane -L 5          # Ctrl-b + H 左扩
bind -r J resize-pane -D 3          # Ctrl-b + J 下扩
bind -r K resize-pane -U 3          # Ctrl-b + K 上扩
bind -r L resize-pane -R 5          # Ctrl-b + L 右扩

bind c new-window -c "#{pane_current_path}"       # Ctrl-b + c 新窗口继承路径
bind -r n next-window               # Ctrl-b + n 下一窗口
bind -r p previous-window           # Ctrl-b + p 上一窗口
bind s choose-session               # Ctrl-b + s 选择会话
bind w choose-window                # Ctrl-b + w 选择窗口
bind r command-prompt "rename-window %%"          # Ctrl-b + r 重命名窗口

##### 插件 ###############################################################
# set -g @plugin 'tmux-plugins/tpm'             # 插件管理器
# set -g @plugin 'tmux-plugins/tmux-resurrect'  # 保存/恢复会话
# set -g @plugin 'tmux-plugins/tmux-continuum'  # 自动保存与恢复
# set -g @plugin 'tmux-plugins/tmux-yank'       # 增强复制
# set -g @resurrect-capture-pane-contents 'on'  # 保存 pane 内容
# set -g @continuum-restore 'on'                # 自动恢复会话
# run '~/.tmux/plugins/tpm/tpm'

##### 主题 ###############################
##### --- Status 基础 ---
set -g status on
set -g status-interval 5
set -g status-style bg="#344E41",fg=white
